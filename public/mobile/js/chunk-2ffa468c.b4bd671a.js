(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2ffa468c"],{"33ef":function(t,a,e){"use strict";e.d(a,"b",(function(){return r})),e.d(a,"a",(function(){return s})),e.d(a,"c",(function(){return i}));var n=e("366f"),r=function(t,a){return Object(n["a"])("/Marketmanage/get_info","GET",{marketmanage_id:t,key:a})},s=function(t){return Object(n["a"])("/member_marketmanage/add_log","POST",{marketmanage_id:t},"member")},i=function(t){return Object(n["a"])("/member_marketmanage/get_log","POST",{page:t.page,per_page:t.per_page},"member")}},5008:function(t,a,e){},"5af2":function(t,a,e){t.exports=function(t){var a={};function e(n){if(a[n])return a[n].exports;var r=a[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},e.p="",e(e.s=242)}({0:function(t,a){t.exports=function(t,a,e,n,r){var s,i=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(s=t,i=t.default);var o,d="function"===typeof i?i.options:i;if(a&&(d.render=a.render,d.staticRenderFns=a.staticRenderFns),n&&(d._scopeId=n),r?(o=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},d._ssrRegister=o):e&&(o=e),o){var _=d.functional,l=_?d.render:d.beforeCreate;_?d.render=function(t,a){return o.call(a),l(t,a)}:d.beforeCreate=l?[].concat(l,o):[o]}return{esModule:s,exports:i,options:d}}},1:function(t,a){t.exports=e("2b0e")},101:function(t,a){},164:function(t,a,e){function n(t){e(101)}var r=e(0)(e(86),e(170),n,null,null);t.exports=r.exports},170:function(t,a){t.exports={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("transition",{attrs:{name:"mint-toast-pop"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?e("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),e("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},242:function(t,a,e){t.exports=e(50)},50:function(t,a,e){"use strict";var n=e(94);Object.defineProperty(a,"__esModule",{value:!0}),e.d(a,"default",(function(){return n["a"]}))},86:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a["default"]={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},94:function(t,a,e){"use strict";var n=e(1),r=e.n(n),s=r.a.extend(e(164)),i=[],c=function(){if(i.length>0){var t=i[0];return i.splice(0,1),t}return new s({el:document.createElement("div")})},o=function(t){t&&i.push(t)},d=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};s.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",d),this.closed=!0,o(this)};var _=function(t){void 0===t&&(t={});var a=t.duration||3e3,e=c();return e.closed=!1,clearTimeout(e.timer),e.message="string"===typeof t?t:t.message,e.position=t.position||"middle",e.className=t.className||"",e.iconClass=t.iconClass||"",document.body.appendChild(e.$el),r.a.nextTick((function(){e.visible=!0,e.$el.removeEventListener("transitionend",d),~a&&(e.timer=setTimeout((function(){e.closed||e.close()}),a))})),e};a["a"]=_}})},"5fc6":function(t,a,e){},8194:function(t,a,e){"use strict";e.d(a,"d",(function(){return r})),e.d(a,"b",(function(){return s})),e.d(a,"c",(function(){return i})),e.d(a,"f",(function(){return c})),e.d(a,"h",(function(){return o})),e.d(a,"g",(function(){return d})),e.d(a,"a",(function(){return _})),e.d(a,"e",(function(){return l}));var n=e("366f"),r=function(t){return Object(n["a"])("/Logout/index","POST",{username:t,client:"wap"},"member")},s=function(){return Object(n["a"])("/Member/index","POST",{},"member")},i=function(){return Object(n["a"])("/Member/information","POST",{},"member")},c=function(t){return Object(n["a"])("/Member/edit_information","POST",{member_nickname:t.member_nickname,member_qq:t.member_qq,member_ww:t.member_ww,member_birthday:t.member_birthday},"member")},o=function(t){return Object(n["a"])("/Member/edit_memberavatar","POST",t,"member",!0)},d=function(t){return Object(n["a"])("/Member/edit_auth","POST",t,"member",!0)},_=function(t){return Object(n["a"])("/Member/drop_auth","POST",{file_name:t},"member")},l=function(t,a,e){return Object(n["a"])("/Member/auth","POST",{member_truename:t,member_idcard:a,if_confirm:e},"member")}},e247:function(t,a,e){"use strict";var n=e("5008"),r=e.n(n);r.a},fdc1:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"home-marketwheel"},[t.award_list.length?e("div",{staticClass:"roulette-container l-scene__roulette"},[e("div",{staticClass:"c-award__container",class:{"c-award__container--active":1==t.active}},[e("i",{staticClass:"c-award__icon",class:"award-type-"+t.award_list[1].marketmanageaward_type}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" "+t._s(t.award_list[1].marketmanageaward_text)+" ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":2==t.active}},[e("i",{staticClass:"c-award__icon award-type-0"}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" 谢谢参与 ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":3==t.active}},[e("i",{staticClass:"c-award__icon",class:"award-type-"+t.award_list[3].marketmanageaward_type}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" "+t._s(t.award_list[3].marketmanageaward_text)+" ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":4==t.active}},[e("i",{staticClass:"c-award__icon award-type-0"}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" 谢谢参与 ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":12==t.active}},[e("i",{staticClass:"c-award__icon award-type-0"}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" 谢谢参与 ")])]),e("div",{staticClass:"c-award__container c-award__container--hidden"}),e("div",{staticClass:"c-award__container c-award__container--hidden"}),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":5==t.active}},[e("i",{staticClass:"c-award__icon",class:"award-type-"+t.award_list[5].marketmanageaward_type}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" "+t._s(t.award_list[5].marketmanageaward_text)+" ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":11==t.active}},[e("i",{staticClass:"c-award__icon",class:"award-type-"+t.award_list[11].marketmanageaward_type}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" "+t._s(t.award_list[11].marketmanageaward_text)+" ")])]),e("div",{staticClass:"c-award__container c-award__container--hidden"}),e("div",{staticClass:"c-award__container c-award__container--hidden"}),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":6==t.active}},[e("i",{staticClass:"c-award__icon award-type-0"}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" 谢谢参与 ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":10==t.active}},[e("i",{staticClass:"c-award__icon award-type-0"}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" 谢谢参与 ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":9==t.active}},[e("i",{staticClass:"c-award__icon",class:"award-type-"+t.award_list[9].marketmanageaward_type}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" "+t._s(t.award_list[9].marketmanageaward_text)+" ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":8==t.active}},[e("i",{staticClass:"c-award__icon award-type-0"}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" 谢谢参与 ")])]),e("div",{staticClass:"c-award__container",class:{"c-award__container--active":7==t.active}},[e("i",{staticClass:"c-award__icon",class:"award-type-"+t.award_list[7].marketmanageaward_type}),e("p",{staticClass:"l-general__desc c-award__desc"},[t._v(" "+t._s(t.award_list[7].marketmanageaward_text)+" ")])]),t.canDraw?e("button",{staticClass:"l-lottery__btn",on:{click:t.goTurn}},[e("div",{staticClass:"c-btn__action"},[t._v("\n                立即抽奖\n            ")]),e("div",{staticClass:"c-btn__credit"}),t.countLeft?e("div",{staticClass:"c-btn__chance"},[t._v("\n                剩余"+t._s(t.countLeft)+"次机会\n            ")]):t._e()]):e("button",{staticClass:"l-lottery__btn l-lottery__btn--disable"},[e("div",{staticClass:"c-btn__action"},[t._v("\n                明天再来\n            ")]),e("div",{staticClass:"c-btn__credit"}),e("div",{staticClass:"c-btn__chance"},[t._v("\n                次数用完了\n            ")])])]):t._e(),e("div",{staticClass:"l-scene__user"},[e("p",{staticClass:"c-user__credit"},[t._v("我的积分："+t._s(t.info?t.info.member_points:0))]),e("a",{staticClass:"c-user__record",on:{click:t.goLog}},[t._v(" 我的中奖记录 ")])]),e("mt-popup",{staticClass:"popup",model:{value:t.isResult,callback:function(a){t.isResult=a},expression:"isResult"}},[e("div",{staticClass:"c-result__popup"},[e("div",{staticClass:"c-result__container"},[e("div",{staticClass:"c-result__title"},[t._v("\n                    "+t._s(t.drawTitle)+"\n                ")]),e("div",{staticClass:"l-result__prize"},[e("i",{staticClass:"c-prize__icon",class:"award-type-"+(t.drawResult?t.drawInfo.marketmanageaward_type:0)}),e("p",{staticClass:"c-prize__name"},[t._v(t._s(t.drawContent))]),e("p",{staticClass:"c-prize__expire"})]),e("div",{staticClass:"button-wrapper"},[e("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(a){t.isResult=!1}}},[t._v("\n                        知道了\n                    ")])],1)])])])],1)},r=[],s=(e("8e6e"),e("ac6a"),e("456d"),e("5fc6"),e("5af2")),i=e.n(s),c=e("bd86"),o=e("33ef"),d=e("8194"),_=e("2f62");function l(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,n)}return e}function u(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?l(e,!0).forEach((function(a){Object(c["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(e).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var m={data:function(){return{active:!1,marketmanage_id:0,marketmanage_info:!1,award_list:[],isResult:!1,drawResult:!1,drawTitle:"谢谢参与",drawContent:"哎呀，肯定姿势不对！",canDraw:!1,countLeft:0,count:0,award_position:{},drawInfo:!1}},computed:u({},Object(_["d"])({isOnline:function(t){return t.member.isOnline},token:function(t){return t.member.token},info:function(t){return t.member.info}})),created:function(){var t=this;this.marketmanage_id=this.$route.query.marketmanage_id,this.marketmanage_id?(this.isOnline&&this.getMemberInfo(),Object(o["b"])(this.marketmanage_id,this.token).then((function(a){t.marketmanage_info=a.result.marketmanage_info;for(var e=a.result.marketmanageaward_list,n=[],r=1;r<=12;r++)r%2>0?(n[r]=e[(r-1)/2%e.length],"undefined"===typeof t.award_position[n[r].marketmanageaward_id]&&(t.award_position[n[r].marketmanageaward_id]=[]),t.award_position[n[r].marketmanageaward_id].push(r)):(n[r]=!1,"undefined"===typeof t.award_position[0]&&(t.award_position[0]=[]),t.award_position[0].push(r));t.award_list=n,t.canDraw=a.result.can_draw,t.countLeft=a.result.count_left,t.drawContent=t.marketmanage_info.marketmanage_failed,t.canDraw||i()(a.message)})).catch((function(t){i()(t.message)}))):i()("参数错误")},methods:u({},Object(_["c"])({memberUpdate:"memberUpdate"}),{goLog:function(){this.$router.push({name:"MemberMarketmanagelog"})},setActive:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:400;if(this.count>0){this.active?this.active=this.active%12+1:this.active=1,this.count=this.count-1;var a=this;t>50&&(t-=50),this.count<8&&(t=400-50*this.count),setTimeout((function(){a.setActive(t)}),t)}else this.isResult=!0},goTurn:function(){var t=this;this.isOnline?this.canDraw&&(this.active=!1,this.drawResult=!1,this.drawTitle="谢谢参与",this.drawContent=this.marketmanage_info.marketmanage_failed,Object(o["a"])(this.marketmanage_id).then((function(a){if(t.canDraw=a.result.can_draw,t.countLeft=a.result.count_left,t.marketmanage_info.marketmanage_point>0&&t.getMemberInfo(),a.result.draw_result){t.drawResult=!0,t.drawInfo=a.result.draw_info,t.drawTitle=a.result.draw_info.marketmanageaward_level+"等奖",t.drawContent=a.result.draw_info.marketmanageaward_text;var e=a.result.draw_info.marketmanageaward_id;t.count=48+t.award_position[e][parseInt(Math.random()*t.award_position[e].length)%t.award_position[e].length]}else t.count=48+2*parseInt(6*Math.random());t.setActive()})).catch((function(t){i()(t.message)}))):this.$router.push({name:"HomeMemberLogin"})},getMemberInfo:function(){var t=this;Object(d["c"])().then((function(a){t.memberUpdate({info:a.result.member_info})}),(function(t){}))}}),watch:{},mounted:function(){}},f=m,p=(e("e247"),e("2877")),w=Object(p["a"])(f,n,r,!1,null,"ca2fa2fe",null);a["default"]=w.exports}}]);