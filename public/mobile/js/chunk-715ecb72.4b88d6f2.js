(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-715ecb72","chunk-56e9f622"],{"0e3f":function(e,t,i){},1427:function(e,t,i){"use strict";var n=i("0e3f"),s=i.n(n);s.a},"15f7":function(e,t,i){},3206:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"c",(function(){return r})),i.d(t,"e",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"g",(function(){return c})),i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return m}));var n=i("366f"),s=function(e){return Object(n["a"])("/Memberaccount/send_auth_code","POST",{type:e},"member")},r=function(e){return Object(n["a"])("/Memberaccount/check_auth_code","POST",{auth_code:e},"member")},a=function(e){return Object(n["a"])("/Memberaccount/bind_mobile_step2","POST",{auth_code:e},"member")},o=function(e,t){return Object(n["a"])("/Memberaccount/modify_password","POST",{password:e,password1:t},"member")},c=function(e,t){return Object(n["a"])("/Memberaccount/modify_paypwd","POST",{password:e,password1:t},"member")},l=function(e){return Object(n["a"])("/Memberaccount/bind_mobile_step1","POST",{mobile:e},"member")},m=function(e){return Object(n["a"])("/Memberaccount/bind_email_step1","POST",{email:e},"member")}},"583b":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"member-account-set"},[i("div",{staticClass:"common-header-wrap"},[i("mt-header",{staticClass:"common-header",attrs:{title:"账号设置"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){return e.$router.go(-1)}},slot:"left"})],1)],1),i("div",{staticClass:"menu-list"},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.user.member_mobilebind&&e.user.member_mobile||e.user.member_emailbind&&e.user.member_email,expression:"(user.member_mobilebind && user.member_mobile) || (user.member_emailbind && user.member_email)"}],on:{click:function(t){return e.popupVisible("password")}}},[i("mt-cell",{staticClass:"menu-item",attrs:{title:"修改登录密码"}},[i("span",{staticClass:"iconfont right-arrow"},[e._v("")])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:e.user.member_mobilebind&&e.user.member_mobile||e.user.member_emailbind&&e.user.member_email,expression:"(user.member_mobilebind && user.member_mobile) || (user.member_emailbind && user.member_email)"}],on:{click:function(t){return e.popupVisible("paypwd")}}},[i("mt-cell",{staticClass:"menu-item",attrs:{title:"修改支付密码"}},[i("span",{staticClass:"iconfont right-arrow"},[e._v("")])])],1),i("div",{on:{click:function(t){return e.popupVisible("mobile")}}},[i("mt-cell",{staticClass:"menu-item",attrs:{title:(e.user.member_mobilebind?"修改":"绑定")+"手机"}},[e._v(e._s(e.user.member_mobile)),i("span",{staticClass:"iconfont right-arrow"},[e._v("")])])],1),i("div",{on:{click:function(t){return e.popupVisible("email")}}},[i("mt-cell",{staticClass:"menu-item",attrs:{title:(e.user.member_emailbind?"修改":"绑定")+"邮箱"}},[e._v(e._s(e.user.member_email)),i("span",{staticClass:"iconfont right-arrow"},[e._v("")])])],1)]),i("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:e.logout}},[e._v("退出登录")]),i("mt-popup",{staticClass:"common-popup-wrapper",attrs:{position:"right"},model:{value:e.editMobileVisible,callback:function(t){e.editMobileVisible=t},expression:"editMobileVisible"}},[i("div",{staticClass:"common-header-wrap"},[i("mt-header",{staticClass:"common-header",attrs:{title:(e.user.member_mobilebind?"修改":"绑定")+"手机"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){e.editMobileVisible=!1}},slot:"left"})],1)],1),i("div",{staticClass:"common-popup-content"},[i("mt-field",{staticClass:"menu-item",attrs:{label:"手机",type:"number",attr:{oninput:"if(value.length>11)value=value.slice(0,11)"}},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),i("mt-field",{attrs:{label:"验证码",type:"number",attr:{oninput:"if(value.length>6)value=value.slice(0,6)"}},model:{value:e.verifyCodeMobile,callback:function(t){e.verifyCodeMobile=t},expression:"verifyCodeMobile"}},[i("mt-button",{staticClass:"btn",attrs:{type:"default",size:"small",plain:""},on:{click:e.sendVerifyCodeMobile}},[e._v(e._s(e.sendStateTextMobile))])],1),i("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:e.updateMobile}},[e._v("提交")])],1)]),i("mt-popup",{staticClass:"common-popup-wrapper",attrs:{position:"right"},model:{value:e.editEmailVisible,callback:function(t){e.editEmailVisible=t},expression:"editEmailVisible"}},[i("div",{staticClass:"common-header-wrap"},[i("mt-header",{staticClass:"common-header",attrs:{title:(e.user.member_emailbind?"修改":"绑定")+"邮箱"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){e.editEmailVisible=!1}},slot:"left"})],1)],1),i("div",{staticClass:"common-popup-content"},[i("mt-field",{staticClass:"menu-item",attrs:{label:"邮箱",type:"text"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),i("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:e.sendVerifyCodeEmail}},[e._v("提交")])],1)]),i("mt-popup",{staticClass:"common-popup-wrapper",attrs:{position:"right"},model:{value:e.editPasswordVisible,callback:function(t){e.editPasswordVisible=t},expression:"editPasswordVisible"}},[i("div",{staticClass:"common-header-wrap"},[i("mt-header",{staticClass:"common-header",attrs:{title:"修改登录密码"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){e.editPasswordVisible=!1}},slot:"left"})],1)],1),i("div",{staticClass:"common-popup-content"},[i("mt-field",{staticClass:"menu-item",attrs:{label:"新密码",type:"password"},model:{value:e.password1,callback:function(t){e.password1=t},expression:"password1"}}),i("mt-field",{staticClass:"menu-item",attrs:{label:"确认密码",type:"password"},model:{value:e.password2,callback:function(t){e.password2=t},expression:"password2"}}),i("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:e.updatePassword}},[e._v("提交")])],1)]),i("mt-popup",{staticClass:"common-popup-wrapper",attrs:{position:"right"},model:{value:e.editPaypwdVisible,callback:function(t){e.editPaypwdVisible=t},expression:"editPaypwdVisible"}},[i("div",{staticClass:"common-header-wrap"},[i("mt-header",{staticClass:"common-header",attrs:{title:"修改支付密码"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){e.editPaypwdVisible=!1}},slot:"left"})],1)],1),i("div",{staticClass:"common-popup-content"},[i("mt-field",{staticClass:"menu-item",attrs:{label:"新密码",type:"password"},model:{value:e.paypwd1,callback:function(t){e.paypwd1=t},expression:"paypwd1"}}),i("mt-field",{staticClass:"menu-item",attrs:{label:"确认密码",type:"password"},model:{value:e.paypwd2,callback:function(t){e.paypwd2=t},expression:"paypwd2"}}),i("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:e.updatePaypwd}},[e._v("提交")])],1)]),i("mt-popup",{staticClass:"common-popup-wrapper",attrs:{position:"right"},model:{value:e.sendAuthCode,callback:function(t){e.sendAuthCode=t},expression:"sendAuthCode"}},[i("div",{staticClass:"common-header-wrap"},[i("mt-header",{staticClass:"common-header",attrs:{title:"身份验证"}},[i("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(t){e.sendAuthCode=!1}},slot:"left"})],1)],1),i("div",{staticClass:"common-popup-content"},[i("common-send-code",{on:{checkSuccess:e.checkSuccess}})],1)])],1)},s=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("5fc6"),i("5af2")),a=i.n(r),o=i("bd86"),c=i("2f62"),l=i("8194"),m=i("5b3f"),u=i("3206");function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function b(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(i,!0).forEach((function(t){Object(o["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var p={components:{CommonSendCode:m["default"]},name:"MemberSetting",data:function(){return{sendAuthCode:!1,authType:"mobile",editPaypwdVisible:!1,paypwd1:"",paypwd2:"",editMobileVisible:!1,mobile:"",editEmailVisible:!1,email:"",editPasswordVisible:!1,password1:"",password2:"",verifyCodeMobile:"",canSendMobile:!0,timeIntervalMobile:!1,sendStateTextMobile:"发送",canSendEmail:!0,timeIntervalEmail:!1,sendStateTextEmail:"发送"}},beforeDestroy:function(){clearInterval(this.timeIntervalMobile),clearInterval(this.timeIntervalEmail)},created:function(){var e=this;Object(l["c"])().then((function(t){e.memberUpdate({info:t.result.member_info}),t.result.member_info.member_emailbind||(e.email=t.result.member_info.member_email),t.result.member_info.member_mobilebind||(e.mobile=t.result.member_info.member_mobile)}),(function(e){}))},computed:b({},Object(c["d"])({user:function(e){return e.member.info}})),methods:b({},Object(c["c"])({memberUpdate:"memberUpdate",memberEdit:"memberEdit",memberLogout:"memberLogout"}),{logout:function(){var e=this;Object(l["d"])(this.user.member_name).then((function(t){e.memberLogout(),e.$router.push({name:"HomeMemberLogin"})})).catch((function(e){a()(e.message)}))},popupVisible:function(e){switch(this.authType=e,e){case"mobile":this.user.member_mobilebind&&this.user.member_mobile?this.sendAuthCode=!0:this.editMobileVisible=!0;break;case"email":this.user.member_emailbind&&this.user.member_email?this.sendAuthCode=!0:this.editEmailVisible=!0;break;case"password":this.sendAuthCode=!0;break;case"paypwd":this.sendAuthCode=!0;break}},checkSuccess:function(){switch(this.authType){case"mobile":this.editMobileVisible=!0;break;case"email":this.editEmailVisible=!0;break;case"password":this.editPasswordVisible=!0;break;case"paypwd":this.editPaypwdVisible=!0;break}},updateMobile:function(){var e=this;Object(u["e"])(this.verifyCodeMobile).then((function(t){e.memberEdit({member_mobile:e.mobile,member_mobilebind:1}),a()(t.message),e.$router.go(0)})).catch((function(e){a()(e.message)}))},updatePassword:function(){var e=this;Object(u["f"])(this.password1,this.password2).then((function(t){a()(t.message),e.$router.go(0)})).catch((function(e){a()(e.message)}))},updatePaypwd:function(){var e=this;Object(u["g"])(this.paypwd1,this.paypwd2).then((function(t){a()(t.message),e.$router.go(0)})).catch((function(e){a()(e.message)}))},sendVerifyCodeMobile:function(){var e=this;this.canSendMobile&&Object(u["b"])(this.mobile).then((function(t){e.memberEdit({member_mobile:e.mobile,member_mobilebind:0}),e.canSendMobile=!1;var i=60;a()(t.message);var n=e;e.timeIntervalMobile=setInterval((function(){i<=0?(n.canSendMobile=!0,n.sendStateTextMobile="发送",clearInterval(n.timeIntervalMobile)):n.sendStateTextMobile=i+"s",i--}),1e3)})).catch((function(e){a()(e.message)}))},sendVerifyCodeEmail:function(){var e=this;this.canSendEmail&&Object(u["a"])(this.email).then((function(t){e.memberEdit({member_email:e.email,member_emailbind:0}),e.canSendEmail=!1;var i=60;a()(t.message);var n=e;e.timeIntervalEmail=setInterval((function(){i<=0?(n.canSendEmail=!0,n.sendStateTextEmail="发送",clearInterval(n.timeIntervalEmail)):n.sendStateTextEmail=i+"s",i--}),1e3)})).catch((function(e){a()(e.message)}))}})},f=p,h=(i("f126"),i("2877")),v=Object(h["a"])(f,n,s,!1,null,"33325b48",null);t["default"]=v.exports},"5af2":function(e,t,i){e.exports=function(e){var t={};function i(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=e,i.c=t,i.i=function(e){return e},i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=242)}({0:function(e,t){e.exports=function(e,t,i,n,s){var r,a=e=e||{},o=typeof e.default;"object"!==o&&"function"!==o||(r=e,a=e.default);var c,l="function"===typeof a?a.options:a;if(t&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns),n&&(l._scopeId=n),s?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},l._ssrRegister=c):i&&(c=i),c){var m=l.functional,u=m?l.render:l.beforeCreate;m?l.render=function(e,t){return c.call(t),u(e,t)}:l.beforeCreate=u?[].concat(u,c):[c]}return{esModule:r,exports:a,options:l}}},1:function(e,t){e.exports=i("2b0e")},101:function(e,t){},164:function(e,t,i){function n(e){i(101)}var s=i(0)(i(86),i(170),n,null,null);e.exports=s.exports},170:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"mint-toast-pop"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"mint-toast",class:e.customClass,style:{padding:""===e.iconClass?"10px":"20px"}},[""!==e.iconClass?i("i",{staticClass:"mint-toast-icon",class:e.iconClass}):e._e(),e._v(" "),i("span",{staticClass:"mint-toast-text",style:{"padding-top":""===e.iconClass?"0":"10px"}},[e._v(e._s(e.message))])])])},staticRenderFns:[]}},242:function(e,t,i){e.exports=i(50)},50:function(e,t,i){"use strict";var n=i(94);Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"default",(function(){return n["a"]}))},86:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var e=[];switch(this.position){case"top":e.push("is-placetop");break;case"bottom":e.push("is-placebottom");break;default:e.push("is-placemiddle")}return e.push(this.className),e.join(" ")}}}},94:function(e,t,i){"use strict";var n=i(1),s=i.n(n),r=s.a.extend(i(164)),a=[],o=function(){if(a.length>0){var e=a[0];return a.splice(0,1),e}return new r({el:document.createElement("div")})},c=function(e){e&&a.push(e)},l=function(e){e.target.parentNode&&e.target.parentNode.removeChild(e.target)};r.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",l),this.closed=!0,c(this)};var m=function(e){void 0===e&&(e={});var t=e.duration||3e3,i=o();return i.closed=!1,clearTimeout(i.timer),i.message="string"===typeof e?e:e.message,i.position=e.position||"middle",i.className=e.className||"",i.iconClass=e.iconClass||"",document.body.appendChild(i.$el),s.a.nextTick((function(){i.visible=!0,i.$el.removeEventListener("transitionend",l),~t&&(i.timer=setTimeout((function(){i.closed||i.close()}),t))})),i};t["a"]=m}})},"5b3f":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"common-send-code"},[i("mt-cell",{attrs:{title:"验证方式"}},[i("mt-radio",{attrs:{options:e.verifyTypeOptions},model:{value:e.verifyType,callback:function(t){e.verifyType=t},expression:"verifyType"}})],1),i("mt-field",{attrs:{label:"验证码"},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}},[i("mt-button",{staticClass:"btn",attrs:{type:"default",size:"small",plain:""},on:{click:e.sendAuthCode}},[e._v(e._s(e.sendStateText))])],1),i("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:e.checkAuthCode}},[e._v("下一步")])],1)},s=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("5fc6"),i("5af2")),a=i.n(r),o=i("bd86"),c=i("2f62"),l=i("3206");function m(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?m(i,!0).forEach((function(t){Object(o["a"])(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(i).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var d={name:"CommonSendCode",components:{},data:function(){return{verifyType:"email",verifyCode:"",canSend:!0,sendStateText:"发送",verifyTypeOptions:[]}},beforeDestroy:function(){clearInterval(this.time_interval)},created:function(){this.user.member_mobilebind&&this.user.member_mobile&&(this.verifyTypeOptions.push({label:"手机",value:"mobile"}),this.verifyType="mobile"),this.user.member_emailbind&&this.user.member_email&&this.verifyTypeOptions.push({label:"邮箱",value:"email"})},computed:u({},Object(c["d"])({user:function(e){return e.member.info}})),methods:{sendAuthCode:function(){var e=this;this.canSend&&Object(l["d"])(this.verifyType).then((function(t){e.canSend=!1;var i=60;a()(t.message);var n=e;e.time_interval=setInterval((function(){i<=0?(n.canSend=!0,n.sendStateText="发送",clearInterval(n.time_interval)):n.sendStateText=i+"s",i--}),1e3)})).catch((function(e){a()(e.message)}))},checkAuthCode:function(){var e=this;Object(l["c"])(this.verifyCode).then((function(t){e.$emit("checkSuccess")})).catch((function(e){a()(e.message)}))}}},b=d,p=(i("1427"),i("2877")),f=Object(p["a"])(b,n,s,!1,null,"2bbdf187",null);t["default"]=f.exports},"5fc6":function(e,t,i){},8194:function(e,t,i){"use strict";i.d(t,"d",(function(){return s})),i.d(t,"b",(function(){return r})),i.d(t,"c",(function(){return a})),i.d(t,"f",(function(){return o})),i.d(t,"h",(function(){return c})),i.d(t,"g",(function(){return l})),i.d(t,"a",(function(){return m})),i.d(t,"e",(function(){return u}));var n=i("366f"),s=function(e){return Object(n["a"])("/Logout/index","POST",{username:e,client:"wap"},"member")},r=function(){return Object(n["a"])("/Member/index","POST",{},"member")},a=function(){return Object(n["a"])("/Member/information","POST",{},"member")},o=function(e){return Object(n["a"])("/Member/edit_information","POST",{member_nickname:e.member_nickname,member_qq:e.member_qq,member_ww:e.member_ww,member_birthday:e.member_birthday},"member")},c=function(e){return Object(n["a"])("/Member/edit_memberavatar","POST",e,"member",!0)},l=function(e){return Object(n["a"])("/Member/edit_auth","POST",e,"member",!0)},m=function(e){return Object(n["a"])("/Member/drop_auth","POST",{file_name:e},"member")},u=function(e,t,i){return Object(n["a"])("/Member/auth","POST",{member_truename:e,member_idcard:t,if_confirm:i},"member")}},f126:function(e,t,i){"use strict";var n=i("15f7"),s=i.n(n);s.a}}]);