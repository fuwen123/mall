(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-128f3f47"],{"2f21":function(t,e,r){"use strict";var i=r("79e5");t.exports=function(t,e){return!!t&&i((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"3c15":function(t,e,r){},"55dd":function(t,e,r){"use strict";var i=r("5ca1"),s=r("d8e8"),o=r("4bf8"),a=r("79e5"),n=[].sort,c=[1,2,3];i(i.P+i.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!r("2f21")(n)),"Array",{sort:function(t){return void 0===t?n.call(o(this)):n.call(o(this),s(t))}})},"6d56":function(t,e,r){"use strict";var i=r("3c15"),s=r.n(i);s.a},daf0:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"common-goods-list"},[r("div",{staticClass:"ui-goodslist-filter"},[r("ul",{staticClass:"filter-list"},[t._l(t.sortkey,(function(e,i){return r("li",{key:e.id,staticClass:"item",class:{sortactive:e.id==t.currentSortKey.id,sortnormal:e.id!=t.currentSortKey.id},on:{click:function(r){return t.setActiveSortkey(e,i)}}},[e.isMore?r("a",[t._v(t._s(t.sort.name))]):r("a",[t._v(t._s(e.name))]),e.isMore?r("span",{staticClass:"iconfont",class:t.isShowMore?"active":""},[t._v("")]):t._e()])})),0!=t.attribute.attr_array.length||0!=t.attribute.brand_array.length?r("li",{staticClass:"item",on:{click:function(e){t.showAttribute=!0}}},[r("a",[t._v("筛选")])]):t._e()],2),t.isShowMore?r("div",{staticClass:"sort-model"},t._l(t.childSort,(function(e,i){return r("div",{key:e.id,class:{active:e.id==t.sort.id},on:{click:function(r){return t.getSortChild(e)}}},[r("a",[t._v(t._s(e.name))]),e.id==t.sort.id?r("span",{staticClass:"iconfont"},[t._v("")]):t._e()])})),0):t._e()]),r("div",{staticClass:"goodslist-body show-goods-list"},[r("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getMore,expression:"getMore"}],staticClass:"flex-wrapper",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[t._l(t.goodsList,(function(e,i){return r("div",{key:i,staticClass:"ui-product-body"},[r("div",{staticClass:"list",on:{click:function(r){return t.goDetail(e.goods_id)}}},[r("div",{staticClass:"ui-image-wrapper"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goods_image_url,expression:"item.goods_image_url"}],staticClass:"product-img"})]),r("div",{staticClass:"flex-right"},[r("div",{staticClass:"product-header"},[r("h3",{staticClass:"title clear-bottom",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v(t._s(e.goods_name))])]),r("div",{staticClass:"p-price",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v("\n                            ¥"+t._s(e.goods_price)+"\n                        ")]),r("div",{staticClass:"p-info"},[r("span",{staticClass:"platform_store_wrapper"},[e.is_platform_store?r("span",{staticClass:"platform_store"},[t._v("自营")]):t._e()]),r("span",{staticClass:"goods_salenum"},[t._v("销量:"+t._s(e.goods_salenum))])]),t._m(0,!0)])])])})),t.goodsList.length>0?r("div",{staticClass:"loading-wrapper"},[t.isMore?t._e():r("p",{staticClass:"common-no-more"},[t._v("没有更多了")]),t.isMore?r("mt-spinner",{attrs:{type:"triple-bounce",color:"#e93b3d"}}):t._e()],1):t._e(),t.goodsList.length<=0&&!t.isMore?r("empty-record"):t._e()],2)]),r("mt-popup",{staticClass:"common-popup-wrapper",staticStyle:{width:"80%"},attrs:{position:"right"},model:{value:t.showAttribute,callback:function(e){t.showAttribute=e},expression:"showAttribute"}},[r("div",{staticClass:"filter-attribute"},[t._v("\n            "+t._s(t.attribute.attr_array.length)+t._s(t.attribute.brand_array.length)+"\n            "),0!=t.attribute.brand_array.length?r("dl",[r("dt",[t._v("品牌")]),r("dd",{staticClass:"clearfix"},t._l(t.attribute.brand_array,(function(e,i){return r("a",{class:{selected:t.params.b_id==e.brand_id},on:{click:function(r){return t.checkBrand(e)}}},[t._v(t._s(e.brand_name))])})),0)]):t._e(),t._l(t.attribute.attr_array,(function(e,i,s){return r("dl",{key:i},[r("dt",[t._v("\n                    "+t._s(e.name)+"\n                ")]),r("dd",{staticClass:"clearfix"},t._l(e.value,(function(e){return r("a",{class:{selected:t.checked_attribute[s]==e.attrvalue_id},on:{click:function(r){return t.checkAttribute(s,e)}}},[t._v(t._s(e.attrvalue_name))])})),0)])}))],2),r("mt-button",{staticClass:"ds-button-large mt-10",attrs:{type:"primary",size:"large"},on:{click:function(e){return t.confirmAttribute()}}},[t._v("确定")]),r("mt-button",{staticClass:"ds-button-large mt-10",attrs:{type:"default",size:"large"},on:{click:function(e){return t.cancelAttribute()}}},[t._v("重置")])],1)],1)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"add-cart"},[r("i",{staticClass:"iconfont"},[t._v("")])])}],o=(r("8e6e"),r("ac6a"),r("456d"),r("55dd"),r("bd86")),a=r("ee53"),n=r("2f62"),c=r("fe51");function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,i)}return r}function l(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(r,!0).forEach((function(e){Object(o["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={name:"CommonGoodsList",props:[],components:{EmptyRecord:a["a"]},data:function(){return{sortkey:[{key:"",order:"",name:"综合排序",isMore:!0,id:0,child:[{key:"",order:"",name:"综合排序",isMore:!1,id:3},{key:"goods_click",order:"",name:"人气最高",isMore:!1,id:4},{key:"goods_price",order:"",name:"价格高到低",isMore:!1,id:5},{key:"goods_price",order:"asc",name:"价格低到高",isMore:!1,id:6}]},{key:"goods_salenum",order:"",name:"销量排序",isMore:!1,id:1},{key:"goods_addtime",order:"",name:"新品",isMore:!1,id:2}],currentSortKey:{},childSort:[],sort:{},isShowMore:!1,params:{b_id:this.$route.query.b_id?this.$route.query.b_id:"",cate_id:this.$route.query.cate_id?this.$route.query.cate_id:"",a_id:this.$route.query.a_id?this.$route.query.a_id:"",is_exchange:0,is_hot:0,activity:null,sort_key:this.$route.query.sort_key?this.$route.query.sort_key:"",sort_order:this.$route.query.sort_order?this.$route.query.sort_order:"",page:0,keyword:this.$route.query.keywords?this.$route.query.keywords:"",xianshi:this.$route.query.xianshi?this.$route.query.xianshi:""},showAttribute:!1,attribute:{brand_array:[],attr_array:[]},checked_attribute:[],goodsList:[],loading:!1,isMore:!0}},computed:l({},Object(n["d"])({})),created:function(){var t=this;this.currentSortKey=this.sortkey[0],this.childSort=this.currentSortKey.child,this.sort=this.childSort[0],Object(c["a"])(this.params).then((function(e){t.attribute=e.result}))},methods:{checkBrand:function(t){this.params.b_id=t.brand_id},checkAttribute:function(t,e){this.checked_attribute.splice(t,1,e.attrvalue_id),this.params.a_id=this.checked_attribute.join("_")},confirmAttribute:function(){this.showAttribute=!1,this.getGoodsList()},cancelAttribute:function(){this.checked_attribute=[],this.params.a_id="",this.params.b_id=""},closeFiler:function(){this.isShowMore=!1},isShowDroupMenu:function(){var t=this.currentSortKey;t.isMore?this.isShowMore=!0:this.isShowMore=!1},setActiveSortkey:function(t,e){this.currentSortKey=t,t.isMore?this.isShowMore=!this.isShowMore:(this.closeFiler(),this.getValue())},getValue:function(){var t=this.getSortValue(),e=t;this.params.page=1,this.goodsList=[],this.loading=!1,this.setParamsByData(e),this.getGoodsList()},getSortValue:function(){var t=this.currentSortKey,e={sort_key:"",sort_order:""};return t.isMore?(e.sort_key=this.sort.key,e.sort_order=this.sort.order):(e.sort_key=t.key,e.sort_order=t.order),e},getSortChild:function(t){this.sort=t,this.isShowMore=!this.isShowMore,this.getValue()},getMore:function(){this.loading=!0,this.params.page=++this.params.page,this.isMore&&(this.loading=!1,this.getGoodsList(!0))},getGoodsList:function(t){var e=this;Object(c["g"])(this.params).then((function(r){e.buildData(t,r)}))},buildData:function(t,e){e&&(this.goodsList=t?this.goodsList.concat(e.result.goods_list):e.result.goods_list,this.isMore=e.result.hasmore)},setParamsByData:function(t){var e=this.params;for(var r in e)for(var i in t)r===i&&(e[r]=t[i]);return e},goDetail:function(t){this.$router.push({name:"HomeGoodsdetail",query:{goods_id:t}})}}},h=d,_=(r("6d56"),r("2877")),f=Object(_["a"])(h,i,s,!1,null,"a8d1d56c",null);e["default"]=f.exports},ee53:function(t,e,r){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"common-empty-record"},[r("i",{staticClass:"iconfont"},[t._v("")]),r("p",[t._v("没有找到相关记录")])])}],o={name:"EmptyRecord",data:function(){return{}},props:{},methods:{}},a=o,n=r("2877"),c=Object(n["a"])(a,i,s,!1,null,null,null);e["a"]=c.exports}}]);