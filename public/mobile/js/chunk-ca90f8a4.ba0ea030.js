(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ca90f8a4","chunk-48a45004","chunk-2d230fb4"],{"2f21":function(t,e,s){"use strict";var o=s("79e5");t.exports=function(t,e){return!!t&&o((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},"34eb":function(t,e,s){},"41a2":function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"common-goods-list"},[s("div",{staticClass:"ui-goodslist-filter"},[s("ul",{staticClass:"filter-list"},t._l(t.sortkey,(function(e,o){return s("li",{key:e.id,staticClass:"item",class:{sortactive:e.id==t.currentSortKey.id,sortnormal:e.id!=t.currentSortKey.id},on:{click:function(s){return t.setActiveSortkey(e,o)}}},[e.isMore?s("a",[t._v(t._s(t.sort.name))]):s("a",[t._v(t._s(e.name))]),e.isMore?s("span",{staticClass:"iconfont",class:t.isShowMore?"active":""},[t._v("")]):t._e()])})),0),t.isShowMore?s("div",{staticClass:"sort-model"},t._l(t.childSort,(function(e,o){return s("div",{key:e.id,class:{active:e.id==t.sort.id},on:{click:function(s){return t.getSortChild(e)}}},[s("a",[t._v(t._s(e.name))]),e.id==t.sort.id?s("span",{staticClass:"iconfont"},[t._v("")]):t._e()])})),0):t._e()]),s("div",{staticClass:"goodslist-body show-goods-list"},[s("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.getMore,expression:"getMore"}],staticClass:"flex-wrapper",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[t._l(t.goodsList,(function(e,o){return s("div",{key:o,staticClass:"ui-product-body"},[s("div",{staticClass:"list",on:{click:function(s){return t.goDetail(e.goods_id)}}},[s("div",{staticClass:"ui-image-wrapper"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.goods_image_url,expression:"item.goods_image_url"}],staticClass:"product-img"})]),s("div",{staticClass:"flex-right"},[s("div",{staticClass:"product-header"},[s("h3",{staticClass:"title clear-bottom",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v(t._s(e.goods_name))])]),s("div",{staticClass:"p-price",staticStyle:{"-webkit-box-orient":"vertical"}},[t._v("\n                            "+t._s(e.goods_price)+"\n                        ")]),s("div",{staticClass:"p-info"},[s("span",{staticClass:"platform_store"},[t._v("自营")]),s("span",{staticClass:"goods_salenum"},[t._v("销量:"+t._s(e.goods_salenum))])]),t._m(0,!0)])])])})),t.goodsList.length>0?s("div",{staticClass:"loading-wrapper"},[t.isMore?t._e():s("p",{staticClass:"common-no-more"},[t._v("没有更多了")]),t.isMore?s("mt-spinner",{attrs:{type:"triple-bounce",color:"#e93b3d"}}):t._e()],1):t._e(),t.goodsList.length<=0&&!t.isMore?s("empty-record"):t._e()],2)])])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"add-cart"},[s("i",{staticClass:"iconfont"},[t._v("")])])}],i=(s("8e6e"),s("ac6a"),s("456d"),s("55dd"),s("bd86")),a=s("ee53"),n=s("2f62"),c=s("e283");function l(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,o)}return s}function u(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?l(s,!0).forEach((function(e){Object(i["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):l(s).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var d={name:"CommonGoodsList",props:[],components:{EmptyRecord:a["a"]},data:function(){return{sortkey:[{key:"",order:"",name:"综合排序",isMore:!0,id:0,child:[{key:"5",order:"",name:"综合排序",isMore:!1,id:3},{key:"4",order:"",name:"人气最高",isMore:!1,id:4},{key:"2",order:"",name:"价格高到低",isMore:!1,id:5},{key:"2",order:"1",name:"价格低到高",isMore:!1,id:6}]},{key:"3",order:"",name:"销量排序",isMore:!1,id:1},{key:"1",order:"",name:"新品",isMore:!1,id:2}],currentSortKey:{},childSort:[],sort:{},isShowMore:!1,params:{store_id:this.$route.query.id?this.$route.query.id:"",gc_id:this.$route.query.gc_id?this.$route.query.gc_id:"",is_exchange:0,is_hot:0,activity:null,sort_key:this.$route.query.sort_key?this.$route.query.sort_key:"",sort_order:this.$route.query.sort_order?this.$route.query.sort_order:"",page:0,keyword:this.$route.query.keyword?this.$route.query.keyword:""},goodsList:[],loading:!1,isMore:!0}},computed:u({},Object(n["d"])({})),created:function(){this.currentSortKey=this.sortkey[0],this.childSort=this.currentSortKey.child,this.sort=this.childSort[0]},methods:{closeFiler:function(){this.isShowMore=!1},isShowDroupMenu:function(){var t=this.currentSortKey;t.isMore?this.isShowMore=!0:this.isShowMore=!1},setActiveSortkey:function(t,e){this.currentSortKey=t,t.isMore?this.isShowMore=!this.isShowMore:(this.closeFiler(),this.getValue())},getValue:function(){var t=this.getSortValue(),e=t;this.params.page=1,this.goodsList=[],this.loading=!1,this.params=this.setParamsByData(e),this.getGoodsList()},getSortValue:function(){var t=this.currentSortKey,e={sort_key:"",sort_order:""};return t.isMore?(e.sort_key=this.sort.key,e.sort_order=this.sort.order):(e.sort_key=t.key,e.sort_order=t.order),e},getSortChild:function(t){this.sort=t,this.isShowMore=!this.isShowMore,this.getValue()},getMore:function(){this.loading=!0,this.params.page=++this.params.page,this.isMore&&(this.loading=!1,this.getGoodsList(!0))},getGoodsList:function(t){var e=this;Object(c["b"])(this.params).then((function(s){e.buildData(t,s)}))},buildData:function(t,e){e&&(this.goodsList=t?this.goodsList.concat(e.result.goods_list):e.result.goods_list,this.isMore=e.result.hasmore)},setParamsByData:function(t){var e=this.params;for(var s in e)for(var o in t)s===o&&(e[s]=t[o]);return e},goDetail:function(t){this.$router.push({name:"HomeGoodsdetail",query:{goods_id:t}})}}},m=d,h=(s("a021"),s("2877")),f=Object(h["a"])(m,o,r,!1,null,"0542824a",null);e["default"]=f.exports},"55dd":function(t,e,s){"use strict";var o=s("5ca1"),r=s("d8e8"),i=s("4bf8"),a=s("79e5"),n=[].sort,c=[1,2,3];o(o.P+o.F*(a((function(){c.sort(void 0)}))||!a((function(){c.sort(null)}))||!s("2f21")(n)),"Array",{sort:function(t){return void 0===t?n.call(i(this)):n.call(i(this),r(t))}})},"61b0":function(t,e,s){"use strict";var o=s("ee38"),r=s.n(o);r.a},a021:function(t,e,s){"use strict";var o=s("34eb"),r=s.n(o);r.a},aee4:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"common-search"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.params.keyword,expression:"params.keyword"}],attrs:{type:"text",placeholder:"搜索店铺商品",readonly:"true",autocomplete:"off"},domProps:{value:t.params.keyword},on:{click:function(e){return t.$router.push({name:"HomeStoreGoodsclass",query:{id:t.store_id}})},input:function(e){e.target.composing||t.$set(t.params,"keyword",e.target.value)}}})]),s("goodslist-body"),s("common-store-footer",{attrs:{store_id:t.store_id}})],1)},r=[],i=s("ef30"),a=(s("2f62"),s("41a2")),n={name:"StoreGoodslist",components:{CommonStoreFooter:i["default"],GoodslistBody:a["default"]},data:function(){return{store_id:this.$route.query.id?this.$route.query.id:"",params:{keyword:this.$route.query.keyword?this.$route.query.keyword:""}}},created:function(){}},c=n,l=(s("61b0"),s("2877")),u=Object(l["a"])(c,o,r,!1,null,"13ae277a",null);e["default"]=u.exports},e283:function(t,e,s){"use strict";s.d(e,"d",(function(){return r})),s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return n}));var o=s("366f"),r=function(t){return Object(o["a"])("/Membervoucher/voucher_point","POST",{tid:t},"member")},i=function(t,e){return Object(o["a"])("/Store/store_info","POST",{store_id:t,key:e})},a=function(t){return Object(o["a"])("/Store/store_goods_class","POST",{store_id:t})},n=function(t){return Object(o["a"])("/Store/store_goods","POST",{page:t.page,per_page:t.per_page,storegc_id:t.gc_id,keyword:t.keyword,store_id:t.store_id,sort_order:t.sort_order,sort_key:t.sort_key})}},ee38:function(t,e,s){},ee53:function(t,e,s){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"common-empty-record"},[s("i",{staticClass:"iconfont"},[t._v("")]),s("p",[t._v("没有找到相关记录")])])}],i={name:"EmptyRecord",data:function(){return{}},props:{},methods:{}},a=i,n=s("2877"),c=Object(n["a"])(a,o,r,!1,null,null,null);e["a"]=c.exports},ef30:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-base"},[s("router-view"),s("div",{staticClass:"common-footer-wrap"},[s("mt-tabbar",{staticClass:"common-footer",attrs:{fixed:""},model:{value:t.home_selected,callback:function(e){t.home_selected=e},expression:"home_selected"}},[s("mt-tab-item",{staticClass:"item-wrap",class:{active:"HomeStoredetail"==t.$route.name},attrs:{id:"home_index"}},[s("router-link",{staticClass:"item",attrs:{to:{name:"HomeStoredetail",query:{id:t.store_id}}}},[s("i",{staticClass:"iconfont icon-homepage"}),s("span",{staticClass:"text"},[t._v("店铺首页")])])],1),s("mt-tab-item",{staticClass:"item-wrap",class:{active:"HomeStoreGoodslist"==t.$route.name},attrs:{id:"home_goodsclass"}},[s("router-link",{staticClass:"item",attrs:{to:{name:"HomeStoreGoodslist",query:{id:t.store_id}}}},[s("i",{staticClass:"iconfont icon-31quanbushangpin"}),s("span",{staticClass:"text"},[t._v("全部商品")])])],1),s("mt-tab-item",{staticClass:"item-wrap",class:{active:"HomeStoreGoodsclass"==t.$route.name},attrs:{id:"home_search"}},[s("router-link",{staticClass:"item",attrs:{to:{name:"HomeStoreGoodsclass",query:{id:t.store_id}}}},[s("i",{staticClass:"iconfont icon-sousuo1"}),s("span",{staticClass:"text"},[t._v("店内搜索")])])],1),s("mt-tab-item",{staticClass:"item-wrap",class:{active:"HomeCart"==t.$route.name},attrs:{id:"home_cart"}},[s("router-link",{staticClass:"item",attrs:{to:{name:"HomeCart"}}},[s("i",{staticClass:"iconfont icon-31gouwuche"}),s("span",{staticClass:"text"},[t._v("购物车")])])],1),s("mt-tab-item",{staticClass:"item-wrap",class:{active:"MemberIndex"==t.$route.name},attrs:{id:"member_index"}},[s("router-link",{staticClass:"item",attrs:{to:{name:"MemberIndex"}}},[s("i",{staticClass:"iconfont icon-people"}),s("span",{staticClass:"text"},[t._v("我的")])])],1)],1)],1)],1)},r=[],i={name:"CommonStoreFooter",data:function(){return{home_selected:"home_index"}},props:["store_id"],computed:{},created:function(){}},a=i,n=s("2877"),c=Object(n["a"])(a,o,r,!1,null,null,null);e["default"]=c.exports}}]);