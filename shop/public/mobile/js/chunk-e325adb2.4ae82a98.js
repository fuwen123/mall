(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e325adb2"],{2934:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r}));var i=n("366f"),s=function(t,e){return Object(i["a"])("/Connect/get_sms_captcha","GET",{type:t,phone:e})},o=function(t){return Object(i["a"])("/Seccode/check","POST",{captcha:t})},r=function(t){return Object(i["a"])("/index/getWechatShare","POST",{url:t})}},"51d9":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"common-header-wrap"},[n("mt-header",{staticClass:"common-header",attrs:{title:"商品咨询"}},[n("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){return t.$router.go(-1)}},slot:"left"})],1)],1),n("div",{staticClass:"consult-form mb-5"},[n("div",{on:{click:function(e){t.typeVisible=!0}}},[n("mt-cell",{attrs:{title:"咨询类型",value:t.type_name,"is-link":""}})],1),n("mt-field",{attrs:{label:"咨询内容",type:"textarea"},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}}),n("mt-field",{attrs:{label:"验证码"},model:{value:t.pictureCode,callback:function(e){t.pictureCode=e},expression:"pictureCode"}},[n("img",{staticClass:"countdown",attrs:{height:"48",src:t.pictureCodeUrl},on:{click:t.changePictureCode}})]),n("mt-button",{staticClass:"ds-button-large",attrs:{type:"primary"},on:{click:t.submit}},[t._v("保存")])],1),n("mt-popup",{staticClass:"common-popup-wrapper",attrs:{position:"right"},model:{value:t.typeVisible,callback:function(e){t.typeVisible=e},expression:"typeVisible"}},[n("div",{staticClass:"common-header-wrap"},[n("mt-header",{staticClass:"common-header",attrs:{title:"咨询类型"}},[n("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){t.typeVisible=!1}},slot:"left"})],1)],1),n("div",{staticClass:"common-popup-content"},[n("mt-radio",{attrs:{options:t.type_options},model:{value:t.type_id,callback:function(e){t.type_id=e},expression:"type_id"}})],1)]),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"10"}},[t.consult_list&&t.consult_list.length?n("div",t._l(t.consult_list,(function(e,i){return n("div",{staticClass:"consult-item"},[n("div",{staticClass:"consult-info"},[n("div",{staticClass:"p-info"},[n("div",{staticClass:"explain"},[t._v(t._s(t.consultType[e.consulttype_id].consulttype_name)),n("span",{staticClass:"right"},[t._v(t._s(t.$moment.unix(e.consult_addtime).format("YYYY年MM月DD日")))])]),n("div",{staticClass:"name"},[t._v(t._s(e.consult_content))]),e.consult_reply?n("div",{staticClass:"replay"},[t._v(t._s(e.consult_reply))]):t._e()])])])})),0):t.consult_list&&!t.consult_list.length?n("empty-record"):t._e()],1)],1)},s=[],o=(n("8e6e"),n("ac6a"),n("456d"),n("ceaa"),n("b2fb")),r=n.n(o),c=(n("5fc6"),n("5af2")),a=n.n(c),u=n("bd86"),l=n("2f62"),p=n("ee53"),d=n("52a5"),f=n("2934");function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(n,!0).forEach((function(e){Object(u["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var _={name:"HomeGoodsConsult",data:function(){return{goods_id:this.$route.query.goods_id,pictureCode:"",pictureCodeUrl:"",content:"",type_name:"",typeVisible:!1,type_id:"",type_options:[],params:{page:0,per_page:10},consult_list:!1,pictureCodeValid:!1,loading:!1,isMore:!0}},components:{EmptyRecord:p["a"]},computed:v({},Object(l["d"])({token:function(t){return t.member.token},consultType:function(t){return t.goodsdetail.consultType}})),mounted:function(){this.changePictureCode()},created:function(){this.goods_id||(a()("参数错误"),this.$router.go(-1));var t=this.consultType;for(var e in t)this.type_id||(this.type_id=t[e].consulttype_id+""),this.type_options.push({label:t[e].consulttype_name,value:t[e].consulttype_id+""})},watch:{pictureCode:function(t){var e=this;t.length>=4&&(this.pictureCodeWait=!0,Object(f["a"])(t).then((function(t){e.pictureCodeWait=!1,e.pictureCodeValid=!0}),(function(t){e.pictureCodeWait=!1,a()(t.message)})))},type_id:function(t){this.type_name=this.consultType[t].consulttype_name,this.typeVisible=!1}},methods:{submit:function(){var t=this;this.pictureCode?this.content?this.pictureCodeValid?Object(d["a"])(this.goods_id,this.type_id,this.content,this.token).then((function(e){a()(e.message),t.content="",t.pictureCode="",t.params={page:0,per_page:10},t.consult_list=!1,t.loading=!1,t.isMore=!0,t.loadMore()})).catch((function(t){a()(t.message)})):a()("验证码错误"):a()("请先输入咨询内容"):a()("请先输入图片验证码")},changePictureCode:function(){this.pictureCodeUrl="/api/Seccode/makecode?r="+Math.random()},loadMore:function(){this.loading=!0,this.params.page=++this.params.page,this.isMore&&(this.loading=!1,this.getConsultList(!0))},getConsultList:function(){var t=this;r.a.open(),Object(d["b"])(this.params,this.goods_id).then((function(e){r.a.close(),e.result.hasmore?t.isMore=!0:t.isMore=!1;var n=e.result.consult_list;n&&(t.consult_list?t.consult_list=t.consult_list.concat(n):t.consult_list=n)})).catch((function(t){r.a.close(),a()(t.message)}))}}},h=_,b=(n("b5d5"),n("2877")),y=Object(b["a"])(h,i,s,!1,null,"698e3ce7",null);e["default"]=y.exports},"5af2":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=242)}({0:function(t,e){t.exports=function(t,e,n,i,s){var o,r=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(o=t,r=t.default);var a,u="function"===typeof r?r.options:r;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),i&&(u._scopeId=i),s?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=a):n&&(a=n),a){var l=u.functional,p=l?u.render:u.beforeCreate;l?u.render=function(t,e){return a.call(e),p(t,e)}:u.beforeCreate=p?[].concat(p,a):[a]}return{esModule:o,exports:r,options:u}}},1:function(t,e){t.exports=n("2b0e")},101:function(t,e){},164:function(t,e,n){function i(t){n(101)}var s=n(0)(n(86),n(170),i,null,null);t.exports=s.exports},170:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mint-toast-pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?n("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),n("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},242:function(t,e,n){t.exports=n(50)},50:function(t,e,n){"use strict";var i=n(94);Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",(function(){return i["a"]}))},86:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},94:function(t,e,n){"use strict";var i=n(1),s=n.n(i),o=s.a.extend(n(164)),r=[],c=function(){if(r.length>0){var t=r[0];return r.splice(0,1),t}return new o({el:document.createElement("div")})},a=function(t){t&&r.push(t)},u=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};o.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",u),this.closed=!0,a(this)};var l=function(t){void 0===t&&(t={});var e=t.duration||3e3,n=c();return n.closed=!1,clearTimeout(n.timer),n.message="string"===typeof t?t:t.message,n.position=t.position||"middle",n.className=t.className||"",n.iconClass=t.iconClass||"",document.body.appendChild(n.$el),s.a.nextTick((function(){n.visible=!0,n.$el.removeEventListener("transitionend",u),~e&&(n.timer=setTimeout((function(){n.closed||n.close()}),e))})),n};e["a"]=l}})},"5fc6":function(t,e,n){},b2fb:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=221)}({0:function(t,e){t.exports=function(t,e,n,i,s){var o,r=t=t||{},c=typeof t.default;"object"!==c&&"function"!==c||(o=t,r=t.default);var a,u="function"===typeof r?r.options:r;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),i&&(u._scopeId=i),s?(a=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=a):n&&(a=n),a){var l=u.functional,p=l?u.render:u.beforeCreate;l?u.render=function(t,e){return a.call(e),p(t,e)}:u.beforeCreate=p?[].concat(p,a):[a]}return{esModule:o,exports:r,options:u}}},1:function(t,e){t.exports=n("2b0e")},122:function(t,e){},141:function(t,e,n){function i(t){n(122)}var s=n(0)(n(63),n(192),i,null,null);t.exports=s.exports},192:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mint-indicator"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-indicator"},[n("div",{staticClass:"mint-indicator-wrapper",style:{padding:t.text?"20px":"15px"}},[n("spinner",{staticClass:"mint-indicator-spin",attrs:{type:t.convertedSpinnerType,size:32}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.text,expression:"text"}],staticClass:"mint-indicator-text"},[t._v(t._s(t.text))])],1),t._v(" "),n("div",{staticClass:"mint-indicator-mask",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}})])])},staticRenderFns:[]}},205:function(t,e){t.exports=n("e8c9")},206:function(t,e){t.exports=n("c6f8")},221:function(t,e,n){t.exports=n(29)},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,s=n(1),o=n.n(s),r=o.a.extend(n(141));e["default"]={open:function(t){void 0===t&&(t={}),i||(i=new r({el:document.createElement("div")})),i.visible||(i.text="string"===typeof t?t:t.text||"",i.spinnerType=t.spinnerType||"snake",document.body.appendChild(i.$el),o.a.nextTick((function(){i.visible=!0})))},close:function(){i&&(i.visible=!1)}}},63:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(205),s=n.n(i);n(206),e["default"]={data:function(){return{visible:!1}},components:{Spinner:s.a},computed:{convertedSpinnerType:function(){switch(this.spinnerType){case"double-bounce":return 1;case"triple-bounce":return 2;case"fading-circle":return 3;default:return 0}}},props:{text:String,spinnerType:{type:String,default:"snake"}}}}})},b5d5:function(t,e,n){"use strict";var i=n("cc5f"),s=n.n(i);s.a},cc5f:function(t,e,n){},ceaa:function(t,e,n){},ee53:function(t,e,n){"use strict";var i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},s=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"common-empty-record"},[n("i",{staticClass:"iconfont"},[t._v("")]),n("p",[t._v("没有找到相关记录")])])}],o={name:"EmptyRecord",data:function(){return{}},props:{},methods:{}},r=o,c=n("2877"),a=Object(c["a"])(r,i,s,!1,null,null,null);e["a"]=a.exports}}]);