(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4cd32d6a"],{"3f6a":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("4917");function i(){var t=window.navigator.userAgent.toLowerCase();return"micromessenger"===t.match(/MicroMessenger/i)}},4917:function(t,e,n){"use strict";var i=n("cb7c"),o=n("9def"),r=n("0390"),s=n("5f1b");n("214f")("match",1,(function(t,e,n,a){return[function(n){var i=t(this),o=void 0==n?void 0:n[e];return void 0!==o?o.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var c=i(t),u=String(this);if(!c.global)return s(c,u);var l=c.unicode;c.lastIndex=0;var f,p=[],d=0;while(null!==(f=s(c,u))){var h=String(f[0]);p[d]=h,""===h&&(c.lastIndex=r(u,o(c.lastIndex),l)),d++}return 0===d?null:p}]}))},"5af2":function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=242)}({0:function(t,e){t.exports=function(t,e,n,i,o){var r,s=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(r=t,s=t.default);var c,u="function"===typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),i&&(u._scopeId=i),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=n),c){var l=u.functional,f=l?u.render:u.beforeCreate;l?u.render=function(t,e){return c.call(e),f(t,e)}:u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:r,exports:s,options:u}}},1:function(t,e){t.exports=n("2b0e")},101:function(t,e){},164:function(t,e,n){function i(t){n(101)}var o=n(0)(n(86),n(170),i,null,null);t.exports=o.exports},170:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mint-toast-pop"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?n("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),n("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},242:function(t,e,n){t.exports=n(50)},50:function(t,e,n){"use strict";var i=n(94);Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"default",(function(){return i["a"]}))},86:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},94:function(t,e,n){"use strict";var i=n(1),o=n.n(i),r=o.a.extend(n(164)),s=[],a=function(){if(s.length>0){var t=s[0];return s.splice(0,1),t}return new r({el:document.createElement("div")})},c=function(t){t&&s.push(t)},u=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};r.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",u),this.closed=!0,c(this)};var l=function(t){void 0===t&&(t={});var e=t.duration||3e3,n=a();return n.closed=!1,clearTimeout(n.timer),n.message="string"===typeof t?t:t.message,n.position=t.position||"middle",n.className=t.className||"",n.iconClass=t.iconClass||"",document.body.appendChild(n.$el),o.a.nextTick((function(){n.visible=!0,n.$el.removeEventListener("transitionend",u),~e&&(n.timer=setTimeout((function(){n.closed||n.close()}),e))})),n};e["a"]=l}})},"5c43":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"common-header-wrap"},[n("mt-header",{staticClass:"common-header",attrs:{title:"登录"}},[n("mt-button",{attrs:{slot:"left",icon:"back"},on:{click:function(e){return t.$router.go(-1)}},slot:"left"}),n("mt-button",{attrs:{slot:"right"},on:{click:t.onSignup},slot:"right"},[t._v("注册")])],1)],1),n("div",{staticClass:"top-wrapper"},[n("mt-field",{staticClass:"input-wrapper",attrs:{placeholder:"用户名/邮箱/手机号",type:"text"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("mt-field",{staticClass:"input-wrapper",attrs:{type:"password",placeholder:"请输入密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),n("mt-button",{staticClass:"ds-button-large mt-10 mb-10",attrs:{type:"primary"},on:{click:t.signin}},[t._v("登录")]),n("div",{staticClass:"retrieve-wrapper"},[n("div",{staticClass:"retrieve-item",on:{click:t.onRetrieve}},[n("label",{attrs:{id:"retrieve-title"}},[t._v("忘记密码？")])])]),t.isShowWechat||t.isShowSina||t.isShowQQ?n("div",{staticClass:"bottom-wrapper"},[t._m(0),n("div",{staticClass:"auth-bottom-wrapper"},[t.isShowWechat?n("div",{staticClass:"auth-item",on:{click:t.onWechat}},[n("i",{staticClass:"auth-item-icon iconfont wechat"},[t._v("")]),n("label",{staticClass:"auth-title auth-item-title"},[t._v("微信")])]):t._e(),t.isShowSina?n("div",{staticClass:"auth-item",on:{click:t.onSina}},[n("i",{staticClass:"auth-item-icon iconfont sina"},[t._v("")]),n("label",{staticClass:"auth-title auth-item-title"},[t._v("微博")])]):t._e(),t.isShowQQ?n("div",{staticClass:"auth-item",on:{click:t.onTencent}},[n("i",{staticClass:"auth-item-icon iconfont tencent"},[t._v("")]),n("label",{staticClass:"auth-title auth-item-title"},[t._v("QQ")])]):t._e()])]):t._e()],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"auth-title-wrapper"},[n("div",{staticClass:"auth-line"}),n("label",{staticClass:"auth-title"},[t._v("第三方登录")]),n("div",{staticClass:"auth-line"})])}],r=(n("8e6e"),n("ac6a"),n("456d"),n("5fc6"),n("5af2")),s=n.n(r),a=(n("ceaa"),n("b2fb")),c=n.n(a),u=n("bd86"),l=n("fe0e"),f=n("3f6a"),p=n("2f62");function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(n,!0).forEach((function(e){Object(u["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var v={name:"Login",data:function(){return{username:"",password:""}},beforeRouteEnter:function(t,e,n){n((function(t){t.utils.setCookie("referrer",encodeURIComponent(e.fullPath),1/24)}))},computed:h({},Object(p["d"])({inviter_id:function(t){return t.member.inviterId},config:function(t){return t.config.config}}),{isShowWechat:function(){return!(!Object(f["a"])()||!this.config||1!=this.config.weixin_isuse)},isShowSina:function(){return!(Object(f["a"])()||!this.config||1!=this.config.sina_isuse)},isShowQQ:function(){return!(Object(f["a"])()||!this.config||1!=this.config.qq_isuse)}}),created:function(){c.a.close();var t=this.utils.getCookie("user_info"),e=this.utils.getCookie("key");t&&(t=JSON.parse(decodeURIComponent(t)),this.saveAuthInfo({token:e,info:t}),this.utils.clearCookie("user_info"),this.utils.clearCookie("key"),this.goHome()),this.$route.query.clear&&this.memberLogout(),this.fetchConfig({}).then((function(t){}),(function(t){s()(t.message)}))},mounted:function(){var t=this.$route.params.isTokenInvalid;t&&s()("登录过期")},methods:h({},Object(p["c"])({saveAuthInfo:"memberLogin",saveSellerAuthInfo:"sellerLogin",memberLogout:"memberLogout"}),{},Object(p["b"])({fetchConfig:"fetchConfig"}),{onTencent:function(){window.location.href=env.API_HOST+"/api/oa_qq"},onSina:function(){window.location.href=env.API_HOST+"/api/oa_sina"},signin:function(){var t=this,e=this.username,n=this.password;0!==e.length?0!==n.length?n.length<6?s()("至少输入6位密码"):(c.a.open(),Object(l["b"])(e,n).then((function(e){c.a.close(),t.saveAuthInfo({token:e.result.token,info:e.result.info}),e.result.seller_info&&t.saveSellerAuthInfo({token:e.result.seller_token,info:e.result.seller_info}),t.goHome()}),(function(t){c.a.close(),s()(t.message)}))):s()("请输入密码"):s()("请输入用户名/邮箱/手机号")},goBack:function(){var t=this.$route.params.isFromInfoEdit,e=this.$route.params.isFromShare;t||e?this.$router.push("home"):this.$router.go(-1)},goHome:function(){var t=this.utils.getCookie("referrer");t?(t=decodeURIComponent(t),this.utils.clearCookie("referrer"),this.$router.push({path:t})):this.$router.push({name:"MemberIndex"})},onSignup:function(){this.$router.push({name:"HomeMemberRegister"})},onRetrieve:function(){this.$router.push({name:"HomeMemberForget"})},onWechat:function(){var t=encodeURIComponent(window.location.href);Object(l["c"])(t,this.inviter_id).then((function(t){window.location.href=t.result})).catch((function(t){s()(t.message)}))}})},m=v,b=(n("6751"),n("2877")),g=Object(b["a"])(m,i,o,!1,null,"4f4de603",null);e["default"]=g.exports},"5fc6":function(t,e,n){},6751:function(t,e,n){"use strict";var i=n("a465"),o=n.n(i);o.a},a465:function(t,e,n){},b2fb:function(t,e,n){t.exports=function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=221)}({0:function(t,e){t.exports=function(t,e,n,i,o){var r,s=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(r=t,s=t.default);var c,u="function"===typeof s?s.options:s;if(e&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns),i&&(u._scopeId=i),o?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=c):n&&(c=n),c){var l=u.functional,f=l?u.render:u.beforeCreate;l?u.render=function(t,e){return c.call(e),f(t,e)}:u.beforeCreate=f?[].concat(f,c):[c]}return{esModule:r,exports:s,options:u}}},1:function(t,e){t.exports=n("2b0e")},122:function(t,e){},141:function(t,e,n){function i(t){n(122)}var o=n(0)(n(63),n(192),i,null,null);t.exports=o.exports},192:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"mint-indicator"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-indicator"},[n("div",{staticClass:"mint-indicator-wrapper",style:{padding:t.text?"20px":"15px"}},[n("spinner",{staticClass:"mint-indicator-spin",attrs:{type:t.convertedSpinnerType,size:32}}),t._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.text,expression:"text"}],staticClass:"mint-indicator-text"},[t._v(t._s(t.text))])],1),t._v(" "),n("div",{staticClass:"mint-indicator-mask",on:{touchmove:function(t){t.stopPropagation(),t.preventDefault()}}})])])},staticRenderFns:[]}},205:function(t,e){t.exports=n("e8c9")},206:function(t,e){t.exports=n("c6f8")},221:function(t,e,n){t.exports=n(29)},29:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,o=n(1),r=n.n(o),s=r.a.extend(n(141));e["default"]={open:function(t){void 0===t&&(t={}),i||(i=new s({el:document.createElement("div")})),i.visible||(i.text="string"===typeof t?t:t.text||"",i.spinnerType=t.spinnerType||"snake",document.body.appendChild(i.$el),r.a.nextTick((function(){i.visible=!0})))},close:function(){i&&(i.visible=!1)}}},63:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(205),o=n.n(i);n(206),e["default"]={data:function(){return{visible:!1}},components:{Spinner:o.a},computed:{convertedSpinnerType:function(){switch(this.spinnerType){case"double-bounce":return 1;case"triple-bounce":return 2;case"fading-circle":return 3;default:return 0}}},props:{text:String,spinnerType:{type:String,default:"snake"}}}}})},ceaa:function(t,e,n){},fe0e:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"a",(function(){return s}));var i=n("366f"),o=function(t,e){return Object(i["a"])("/Login/index","POST",{username:t,password:e,client_type:"wap"})},r=function(t,e){return Object(i["a"])("/Wxauto/login","GET",{ref:t,inviter_id:e})},s=function(t,e,n,o,r,s,a,c,u,l,f){return Object(i["a"])("/Login/bind","POST",{type:t,from:e,openid:n,unionid:o,nickname:r,headimgurl:s,user:a,email:c,password:u,password2:l,inviter_id:f,client_type:"wap"})}}}]);