(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1641672b"],{2323:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home-marketzodiac"},[i("div",{staticClass:"apps-zodiac"},[i("div",{staticClass:"zodiac-wrap"},[i("ul",{staticClass:"zodiac"},[i("li",{staticClass:"zodiac-item zodiac-item1",class:{"animated tada flaunt":1==t.active,select:1==t.select,prize:1==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(1)}}},[t.show&&t.show[0]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item2",class:{"animated tada flaunt":2==t.active,select:2==t.select,prize:2==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(2)}}},[t.show&&t.show[1]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item3",class:{"animated tada flaunt":3==t.active,select:3==t.select,prize:3==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(3)}}},[t.show&&t.show[2]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item4",class:{"animated tada flaunt":4==t.active,select:4==t.select,prize:4==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(4)}}},[t.show&&t.show[3]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item5",class:{"animated tada flaunt":5==t.active,select:5==t.select,prize:5==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(5)}}},[t.show&&t.show[4]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item6",class:{"animated tada flaunt":6==t.active,select:6==t.select,prize:6==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(6)}}},[t.show&&t.show[5]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item7",class:{"animated tada flaunt":7==t.active,select:7==t.select,prize:7==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(7)}}},[t.show&&t.show[6]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item8",class:{"animated tada flaunt":8==t.active,select:8==t.select,prize:8==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(8)}}},[t.show&&t.show[7]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item9",class:{"animated tada flaunt":9==t.active,select:9==t.select,prize:9==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(9)}}},[t.show&&t.show[8]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item10",class:{"animated tada flaunt":10==t.active,select:10==t.select,prize:10==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(10)}}},[t.show&&t.show[9]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item11",class:{"animated tada flaunt":11==t.active,select:11==t.select,prize:11==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(11)}}},[t.show&&t.show[10]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()]),i("li",{staticClass:"zodiac-item zodiac-item12",class:{"animated tada flaunt":12==t.active,select:12==t.select,prize:12==t.prize,flipped:t.flipped},on:{click:function(e){return t.selectZodiac(12)}}},[t.show&&t.show[11]?i("div",{staticClass:"zodiac-item-flip"},[i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-front"}),i("div",{staticClass:"zodiac-item-icon zodiac-item-icon-back"})]):t._e()])])]),i("div",{staticClass:"info-block"},[i("div",{staticClass:"info-area"},[i("div",{staticClass:"view-prize"},[t.canDraw?i("a",{staticClass:"js-view-prize",on:{click:t.reset}},[t._v("再来一次")]):t._e(),i("a",{staticClass:"js-view-prize",on:{click:t.goLog}},[t._v("查看奖品")])]),t.marketmanage_info?i("ul",{staticClass:"activity-info"},[i("li",[t._v("活动名称：\n                        "),i("div",{staticClass:"activity-info-content"},[t._v(t._s(t.marketmanage_info.marketmanage_name))])]),i("li",[t._v("活动介绍：\n                        "),i("div",{staticClass:"activity-info-content"},[t._v(t._s(t.marketmanage_info.marketmanage_detail))])]),i("li",[t._v("活动有效时间：\n                        "),i("div",{staticClass:"activity-info-content"},[t._v(t._s(t.marketmanage_info.marketmanage_begintime_text)+"至"+t._s(t.marketmanage_info.marketmanage_endtime_text))])]),i("li",[t._v("活动奖项设置：\n                        "),i("div",{staticClass:"activity-info-content"},t._l(t.marketmanageaward_list,(function(e,a){return i("div",{key:a},[t._v(t._s(e.marketmanageaward_level)+"等奖"+t._s(e.marketmanageaward_probability)+"%："+t._s(e.marketmanageaward_text))])})),0)])]):t._e()])])])])},s=[],n=(i("8e6e"),i("ac6a"),i("456d"),i("b6ce"),i("5441")),c=i.n(n),o=(i("5fc6"),i("5af2")),r=i.n(o),l=i("bd86"),d=i("33ef"),m=i("2f62");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,a)}return i}function u(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(i,!0).forEach((function(e){Object(l["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(i).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var p={data:function(){return{show:!1,active:!1,select:!1,prize:!1,flipped:!1,marketmanage_id:0,marketmanage_info:!1,marketmanageaward_list:!1,isScrape:!1,isResult:!1,drawResult:!1,drawTitle:"真遗憾，未中奖",drawContent:"哎呀，肯定姿势不对！",canDraw:!1,time_interval:!1}},computed:u({},Object(m["d"])({isOnline:function(t){return t.member.isOnline},token:function(t){return t.member.token}})),created:function(){var t=this;this.marketmanage_id=this.$route.query.marketmanage_id,this.marketmanage_id?Object(d["b"])(this.marketmanage_id,this.token).then((function(e){t.marketmanage_info=e.result.marketmanage_info,t.marketmanageaward_list=e.result.marketmanageaward_list,t.canDraw=e.result.can_draw,t.drawContent=t.marketmanage_info.marketmanage_failed,t.canDraw||r()(e.message)})).catch((function(t){r()(t.message)})):r()("参数错误")},methods:{goLog:function(){this.$router.push({name:"MemberMarketmanagelog"})},setActive:function(){var t=this;this.time_interval=setInterval((function(){t.active=parseInt(12*Math.random())%12+1}),3e3)},selectZodiac:function(t){var e=this;this.isOnline?this.canDraw&&(this.isScrape||(this.isScrape=!0,Object(d["a"])(this.marketmanage_id).then((function(i){e.canDraw=i.result.can_draw,e.isResult=!0,e.select=t,e.flipped=!0,clearInterval(e.time_interval),i.result.draw_result?(e.prize=t,e.drawResult=!0,e.drawTitle="恭喜你，获得"+i.result.draw_info.marketmanageaward_level+"等奖",e.drawContent=i.result.draw_info.marketmanageaward_text):e.prize=(t+parseInt(11*Math.random()))%12+1,c.a.alert(e.drawContent,e.drawTitle)})).catch((function(t){r()(t.message)})))):this.$router.push({name:"HomeMemberLogin"})},reset:function(){this.select=!1,this.prize=!1,this.isScrape=!1,this.flipped=!1,this.drawResult=!1,this.isResult=!1,this.drawTitle="真遗憾，未中奖",this.drawContent=this.marketmanage_info.marketmanage_failed,this.setActive()}},watch:{},beforeDestroy:function(){clearInterval(this.time_interval)},mounted:function(){this.show=[];var t=this;this.time_interval=setInterval((function(){t.show.length<12?t.show.push(!0):(clearInterval(t.time_interval),t.setActive())}),100)}},v=p,z=(i("f917"),i("2877")),_=Object(z["a"])(v,a,s,!1,null,"beb2c97c",null);e["default"]=_.exports},"33ef":function(t,e,i){"use strict";i.d(e,"b",(function(){return s})),i.d(e,"a",(function(){return n})),i.d(e,"c",(function(){return c}));var a=i("366f"),s=function(t,e){return Object(a["a"])("/Marketmanage/get_info","GET",{marketmanage_id:t,key:e})},n=function(t){return Object(a["a"])("/member_marketmanage/add_log","POST",{marketmanage_id:t},"member")},c=function(t){return Object(a["a"])("/member_marketmanage/get_log","POST",{page:t.page,per_page:t.per_page},"member")}},"5af2":function(t,e,i){t.exports=function(t){var e={};function i(a){if(e[a])return e[a].exports;var s=e[a]={i:a,l:!1,exports:{}};return t[a].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:a})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=242)}({0:function(t,e){t.exports=function(t,e,i,a,s){var n,c=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(n=t,c=t.default);var r,l="function"===typeof c?c.options:c;if(e&&(l.render=e.render,l.staticRenderFns=e.staticRenderFns),a&&(l._scopeId=a),s?(r=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},l._ssrRegister=r):i&&(r=i),r){var d=l.functional,m=d?l.render:l.beforeCreate;d?l.render=function(t,e){return r.call(e),m(t,e)}:l.beforeCreate=m?[].concat(m,r):[r]}return{esModule:n,exports:c,options:l}}},1:function(t,e){t.exports=i("2b0e")},101:function(t,e){},164:function(t,e,i){function a(t){i(101)}var s=i(0)(i(86),i(170),a,null,null);t.exports=s.exports},170:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"mint-toast-pop"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],staticClass:"mint-toast",class:t.customClass,style:{padding:""===t.iconClass?"10px":"20px"}},[""!==t.iconClass?i("i",{staticClass:"mint-toast-icon",class:t.iconClass}):t._e(),t._v(" "),i("span",{staticClass:"mint-toast-text",style:{"padding-top":""===t.iconClass?"0":"10px"}},[t._v(t._s(t.message))])])])},staticRenderFns:[]}},242:function(t,e,i){t.exports=i(50)},50:function(t,e,i){"use strict";var a=i(94);Object.defineProperty(e,"__esModule",{value:!0}),i.d(e,"default",(function(){return a["a"]}))},86:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={props:{message:String,className:{type:String,default:""},position:{type:String,default:"middle"},iconClass:{type:String,default:""}},data:function(){return{visible:!1}},computed:{customClass:function(){var t=[];switch(this.position){case"top":t.push("is-placetop");break;case"bottom":t.push("is-placebottom");break;default:t.push("is-placemiddle")}return t.push(this.className),t.join(" ")}}}},94:function(t,e,i){"use strict";var a=i(1),s=i.n(a),n=s.a.extend(i(164)),c=[],o=function(){if(c.length>0){var t=c[0];return c.splice(0,1),t}return new n({el:document.createElement("div")})},r=function(t){t&&c.push(t)},l=function(t){t.target.parentNode&&t.target.parentNode.removeChild(t.target)};n.prototype.close=function(){this.visible=!1,this.$el.addEventListener("transitionend",l),this.closed=!0,r(this)};var d=function(t){void 0===t&&(t={});var e=t.duration||3e3,i=o();return i.closed=!1,clearTimeout(i.timer),i.message="string"===typeof t?t:t.message,i.position=t.position||"middle",i.className=t.className||"",i.iconClass=t.iconClass||"",document.body.appendChild(i.$el),s.a.nextTick((function(){i.visible=!0,i.$el.removeEventListener("transitionend",l),~e&&(i.timer=setTimeout((function(){i.closed||i.close()}),e))})),i};e["a"]=d}})},"5fc6":function(t,e,i){},"6eb9":function(t,e,i){},f917:function(t,e,i){"use strict";var a=i("6eb9"),s=i.n(a);s.a}}]);